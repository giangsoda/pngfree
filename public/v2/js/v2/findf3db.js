$(function(){$("#find-email").on("keydown",function(s){13==s.keyCode&&$("#reset-password").click()}),$("#reset-password").click(function(){if($(this).hasClass("loading"))return!1;$(this).addClass("loading");var s=$("#find-email"),e=$.trim(s.val());if(!Pngtree.BaseFun.Base_IsEmail(e))return s.addClass("warning"),$(this).removeClass("loading"),!1;s.removeClass("warning");var n=$(this);$.post("/api/password/send",{_csrf:csrf,email:e},function(s){s.rsp?(n.fadeOut(200),$("#email-div").fadeOut(200),$("#send-success").fadeIn(200)):(n.removeClass("loading"),alert(s.error))},"json")}),$("#find-login").on("click",function(){$(".base-public-login-button").trigger("click")}),$("#find-register").on("click",function(){$(".base-public-register-button").trigger("click")}),$("#find-contact").on("click",function(){$(".side-feedback").trigger("click")});var i=$("#new-password"),a=$("#confirm-password");i.on("keydown",function(s){13==s.keyCode&&$("#change-password").click()}),a.on("keydown",function(s){13==s.keyCode&&$("#change-password").click()}),$("#change-password").click(function(){var s=$(".token").val(),e=$.trim(i.val()),n=$.trim(a.val());return""==e?(i.addClass("warning"),!1):""==n?(a.addClass("warning"),!1):e!=n?(alert("Please check whether the passwords entered for the two time are identical."),!1):void $.post("/api/password/modify-password",{_csrf:csrf,token:s,password:e},function(s){s.rsp&&(window.location.href="/password/reset-success")},"json")})});